import{r as s,u as i,c as S,s as k,j as t,d as E,I as P,y as I}from"./app-096959b0.js";import{g as A}from"./products-thunk-e837323f.js";import{g as C}from"./products-service-2e54bc55.js";function M(){const[d,a]=s.useState(!1),[u,D]=s.useState(1),{selectedItem:F,cart:o}=i(e=>e.cashier),{products:m}=i(e=>e.products),x=s.useRef(null),[f,L]=s.useState(0),p=S(),[c,h]=s.useState(null),[l,g]=s.useState(""),[b,y]=s.useState({});s.useEffect(()=>{k.dispatch(A(C(u,l)))},[l]),s.useEffect(()=>{const e=r=>{(r.key==="I"||r.key==="i")&&a(!0)};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[f]),s.useEffect(()=>{const e=r=>{(r.key==="F"||r.key==="f")&&document.getElementById("paymentAmount").focus()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[d]);function v(e){e.preventDefault(),p(P({...o,...b})),I.visit("/cashier")}function w(e){const r=Math.floor(1e9+Math.random()*9e9),n=e.target.value.split(","),N={...o,randomId:r,id:parseInt(n[0]),description:n[2],quantity:1,total:parseFloat(n[4]),price:parseFloat(n[4]),registered:!0};y(N)}function j(e){e.preventDefault(),g(c)}return t.jsxs("div",{className:"flex flex-col justify-center items-center mt-12",children:[t.jsx(E,{href:"/cashier",className:"flex flex-col items-center p-5 justify-center bg-red-500",children:t.jsx("div",{className:"text-white",children:"BACK"})}),t.jsx("div",{className:"bg-white px-4 pb-4 pt-5 sm:p-6 sm:pb-4",children:t.jsx("div",{className:"",children:t.jsxs("div",{className:"mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left",children:[t.jsx("div",{as:"h3",className:"text-base font-semibold leading-6 text-gray-900",children:"Input Amount"}),t.jsx("div",{className:"mt-2",children:t.jsxs("div",{className:"text-sm text-black",children:[t.jsxs("form",{onSubmit:j,children:["Description",t.jsxs("div",{className:"flex gap-3",children:[t.jsx("input",{autoFocus:!0,value:c,onChange:e=>h(e.target.value),type:"text",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5"}),t.jsx("button",{type:"submit",className:"p-2 bg-red-600 hover:bg-red-500 text-white rounded-md",children:"Search"})]})]}),"Products",t.jsxs("form",{onSubmit:v,children:[t.jsxs("select",{onInput:w,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5",children:[t.jsx("option",{value:"",disabled:!0,selected:!0,children:"Select Products"}),m.map((e,r)=>t.jsx("option",{value:Object.values(e),children:e.description},r))]}),t.jsxs("div",{className:"bg-gray-50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6",children:[t.jsx("button",{type:"submit",className:"inline-flex w-full justify-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-red-500 sm:ml-3 sm:w-auto",children:"Submit"}),t.jsx("button",{type:"button",className:"mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto",onClick:()=>a(!1),ref:x,children:"Cancel"})]})]})]})})]})})})]})}export{M as default};
